# Jest

## 소개

제스트(Jest)는 페이스북에서 만든 자바스크립트 테스팅 라이브러리이다.
테스트 코드의 모양이 직관적이고 문서화가 잘 되어 있어 요즘 많이 활용되고 있다.
꽤 오랜 기간 동안 개발되어 왔음에도 불구하고 한동안 관심을 받지 못하다가, 최근에 안정성 및 성능이 눈에 띄게 좋아지면서 많은 인기를 끌고 있다.

## 장점
- 쉬운 설치 및 사용 방법
Jest는 테스트 러너의 기능 뿐 아니라, 단언, 테스트 더블, 코드 커버리지 등 테스트에 필요한 모든 기능을 지원하기 때문에 별다른 추가 설치가 필요 없다.
또한 특별한 설정 없이 디폴트 설정 만으로도 실행할 수 있기 때문에, 처음 사용하는 사람도 손쉽게 테스트를 작성하고 실행해 볼 수 있다.

- jsdom 내장
Node.js 환경에서는 브라우저에서 제공하는 DOM이나 window 객체의 API를 사용할 수 없다.
그래서 프론트엔드 코드를 테스트하기 위해서는 이러한 API를 가상으로 구현한 환경이 추가로 필요한 데, 그 중 가장 완성도가 높고 널리 쓰이는 라이브러리가 바로 jsdom이다.

- 스냅샷 테스트
스냅샷 테스트는 Jest의 상징과 같은 기능이라고 볼 수 있다.
간단히 말해, 스냅샷 테스트는 객체 내부의 상태를 그대로 파일로 저장해 놓고, 다음 테스트에서 객체의 현재 상태가 이전에 저장된 상태와 다른 지를 비교하는 테스트를 말한다.

- 테스트 파일 필터링
Jest는 테스트할 대상 파일을 구체적으로 지정할 수 있는 기능을 제공한다.
우선 Jest는 기본적으로 Git과 같은 버전 관리 도구와 연도아여 마지막 커밋 이후에 변경 사항이 있는 파일만을 테스트 대상에 포함한다.
이를 통해 이미 검증된 파일에 대해서 불필요한 테스트를 매번 실행하는 것을 방지할 수 있다.

- 샌드박스 병렬 테스트
Node.js 환경에서 테스트를 하는 것의 가장 큰 장점은 바로 속도이다.
Node.js의 프로세스는 브라우저의 프로세스보다 훨씬 가볍기 때문에 초기 구동 속도가 빠를 수밖에 없다.
Jest는 이러한 특징을 이용해서 각각의 테스트 파일을 독립된 프로세스에서 실행한다.
이 경우 각각의 테스트가 사용하는 전역 객체나 모듈의 상태가 서로에게 영향을 미치지 않고 마치 샌드박스 내부에 있는 것처럼 시행되기 때문에 훨신 안전하게 테스트를 할 수 있다.

## 느낀 점

실전 리액트 프로그래밍 책을 읽으며 Jest에 대한 내용이 간단하게 나와서 한 번 조사해봤다.
지금까지는 딱히 테스트 코드라고 할 법한 코드를 짜 본적이 없다.
그래서 Jest를 조사해도 테스트에 관한 용어들은 대부분 몰랐다.
나중에 프로젝트를 진행하면서 테스트 코드를 짤 일이 생긴다면 Jest를 공부하여 적용해야 겠다.

## 참고
- https://ui.toast.com/fe-guide/ko_TEST/#jest
- https://joshua1988.github.io/vue-camp/testing/jest-testing.html#jest%EC%9D%98-%EB%B7%B0-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%ED%85%8C%EC%8A%A4%ED%8C%85