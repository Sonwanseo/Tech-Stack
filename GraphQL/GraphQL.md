# What is GraphQL
GraphQL은 페이스북에서 만든 쿼리 언어이다.  

## GraphQL이란?

GraphQL(이하 gql)은 Structed Query Language(이하 SQL)와 마찬가지로 쿼리 언어이다. 
하지만 둘 사이의 언어적 구조 차이는 매우 크다.
또한, 실전에서 쓰이는 방식의 차이도 매우 크다.
sql은 데이터베이스 시스템에 저장된 데이터를 효율적으로 가져오는 것이 목적이고,
gql은 웹 클라이언트가 데이터를 서버로부터 효율적으로 가져오는 것이 목적이다.
sql의 문장은 주로 백엔드 시스템에서 작성하고 호출하는 반면, gql의 문장은 주로 클라이언트 시스템에서 작성하고 호출한다.

서버사이드 gql 어플리케이션은 gql로 작성된 쿼리를 입력으로 받아 쿼리를 처리한 결과를 다시 클라이언트로 돌려준다.
gql은 어떠한 특정 데이터베이스나 플랫폼에 종속적이지 않다.

## REST API와 비교

REST API는 URL, Method 등을 조합하기 때문에 다양한 Endpoint가 존재한다.
반면, gql은 단 하나의 Endpoint가 존재한다.
또한, gql API에서는 불러오는 데이터의 종류를 쿼리 조합을 통해서 결정한다.
예를 들어, gql API는 스키마의 타입에 따라 데이터베이스 SQL 쿼리가 달라진다.

## GraphQL의 구조

쿼리와 뮤테이션 그리고 응답 내용의 구조는 상당히 직관적이다.
요청하는 쿼리문의 구조와 응답 내용의 구조는 거의 일치한다.

## GraphQL의 장단점

##### 장점
- HTTP 요청의 횟수를 줄인다.
- HTTP 응답의 Size를 줄인다.

##### 단점
- File 전송 등 Text 만으로 하기 힘든 내용들을 처리하기 복잡하다.
- 고정된 요청과 응답만 필요할 경우에는 Query로 인해 요청의 크기가 RESTful API의 경우보다 더 커진다.
- 재귀적인 Query가 불가능하다.

## 어떤 것을 사용해야 하는가?

1. GraphQL
- 서로 다른 모양의 다양한 요청들에 대해 응답할 수 있어야 할 때
- 대부분의 요청이 CRUD에 해당할 때
2. RESTful
- HTTP와 HTTPs에 의한 Caching을 잘 사용하고 싶을 때
- File 전송 등 단순한 Text로 처리되지 않는 요청들이 있을 때
- 요청의 구조가 정해져 있을 때

하지만, 굳이 둘 중 하나를 선택할 필요는 없다.
두 가지를 다 채택하고 상황에 맞게 구현하면 된다.

## 결론

gql은 생산성 향상에 큰 영향을 미친다.
gql은 기존 백-프론트엔드 협업 문화를 많이 바꿀 것으로 예상된다.
gql의 협업 구조상 프론트엔드쪽에 더 할 일이 많아지고 힘이 실리는 느낌이다.
애자일하게 웹 프로젝트를 진행하는데 gql이 많은 도움이 될 것이라고 생각한다.

## 참고

https://tech.kakao.com/2019/08/01/graphql-basic/
https://www.holaxprogramming.com/2018/01/20/graphql-vs-restful-api/